"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var core_1 = require('@angular/core');
var common_1 = require('@angular/common');
var angularfire2_1 = require('angularfire2');
var EnvironmentComponent = (function () {
    function EnvironmentComponent(af, renderer) {
        var _this = this;
        this.URL = window.location.href;
        this.onOff = af.database.object('/' + this.URL.split('/game/')[1] + '/Globals/OnOff', { preserveSnapshot: true });
        this.onOff.subscribe(function (snapshot) {
            _this.environmentSnapshot = snapshot.val();
        });
        this.environment = af.database.object('/' + this.URL.split('/game/')[1] + '/Globals/Environment');
        this.players = af.database.object('/' + this.URL.split('/game/')[1] + '/Players', { preserveSnapshot: true });
        this.players.subscribe(function (snapshot) {
            _this.playersSnapshot = snapshot.val();
        });
        this.getKey = renderer.listenGlobal('document', 'keyup', function (event) {
            var key = event.keyCode;
            _this.toggleBtn(key);
        });
    }
    EnvironmentComponent.prototype.changeEnvironment = function (x) {
        var aether = 1;
        var material = 1;
        var chaos = 1;
        var order = 1;
        switch (x) {
            case 'rain':
                if (this.environmentSnapshot.rain == true) {
                    this.onOff.update({ rain: false });
                    break;
                }
                else {
                    this.onOff.update({ rain: true });
                    break;
                }
            case 'fog':
                if (this.environmentSnapshot.fog == true) {
                    this.onOff.update({ fog: false });
                    break;
                }
                else {
                    this.onOff.update({ fog: true });
                    break;
                }
            case 'lightning':
                if (this.environmentSnapshot.lightning == true) {
                    this.onOff.update({ lightning: false });
                    break;
                }
                else {
                    this.onOff.update({ lightning: true });
                    break;
                }
            case 'sunshine':
                if (this.environmentSnapshot.sunshine == true) {
                    this.onOff.update({ sunshine: false });
                    break;
                }
                else {
                    this.onOff.update({ sunshine: true });
                    break;
                }
            case 'hail':
                if (this.environmentSnapshot.hail == true) {
                    this.onOff.update({ hail: false });
                    break;
                }
                else {
                    this.onOff.update({ hail: true });
                    break;
                }
            case 'wind':
                if (this.environmentSnapshot.wind == true) {
                    this.onOff.update({ wind: false });
                    break;
                }
                else {
                    this.onOff.update({ wind: true });
                    break;
                }
        }
        if (this.environmentSnapshot.rain == true) {
            chaos += 1;
            material += 2;
        }
        if (this.environmentSnapshot.fog == true) {
            aether += 2;
            order += 1;
        }
        if (this.environmentSnapshot.lightning == true) {
            aether += 1;
            chaos += 2;
        }
        if (this.environmentSnapshot.sunshine == true) {
            order += 2;
            material += 1;
        }
        if (this.environmentSnapshot.hail == true) {
            aether += 2;
            material += 2;
        }
        if (this.environmentSnapshot.wind == true) {
            order += 2;
            chaos += 2;
        }
        this.environment.set({ aether: aether, material: material, chaos: chaos, order: order });
        this.changeChampionStats(aether, material, chaos, order);
    };
    EnvironmentComponent.prototype.changeChampionStats = function (aether, material, chaos, order) {
        this.playersSnapshot.Highwayman.physicalAttack = Math.floor((chaos * material) + 10);
        this.playersSnapshot.Highwayman.physicalDefense = Math.floor(5 + material);
        this.playersSnapshot.Highwayman.specialAttack = Math.floor(2 + (2 * order));
        this.playersSnapshot.Highwayman.specialDefense = Math.floor(3 + chaos + aether);
        this.playersSnapshot.Highwayman.dexterity = Math.floor(((10 * aether) + order) / material);
        this.players.update(this.playersSnapshot);
    };
    EnvironmentComponent.prototype.toggleBtn = function (key) {
        if (key == '65' || key == 'fog') {
            this.changeEnvironment('fog');
        }
        if (key == '83' || key == 'hail') {
            this.changeEnvironment('hail');
        }
        if (key == '68' || key == 'lightning') {
            this.changeEnvironment('lightning');
        }
        if (key == '70' || key == 'rain') {
            this.changeEnvironment('rain');
        }
        if (key == '71' || key == 'sunshine') {
            this.changeEnvironment('sunshine');
        }
        if (key == '72' || key == 'wind') {
            this.changeEnvironment('wind');
        }
    };
    EnvironmentComponent = __decorate([
        core_1.Component({
            selector: 'environment',
            template: "\n  <!--\n  <div *ngIf=\"snapshot\">\n    <p>Rain: {{snapshot.rain}}</p>\n    <button (click)=\"changeEnvironment('rain')\">Change Rain</button>\n    <p>Fog: {{snapshot.fog}}</p>\n    <button (click)=\"changeEnvironment('fog')\">Change Fog</button>\n    <p>Lightning: {{snapshot.lightning}}</p>\n    <button (click)=\"changeEnvironment('lightning')\">Change Lightning</button>\n    <p>Sunshine: {{snapshot.sunshine}}</p>\n    <button (click)=\"changeEnvironment('sunshine')\">Change Sunshine</button>\n    <p>Hail: {{snapshot.hail}}</p>\n    <button (click)=\"changeEnvironment('hail')\">Change Hail</button>\n    <p>Wind: {{snapshot.wind}}</p>\n    <button (click)=\"changeEnvironment('wind')\">Change Wind</button>\n  </div>\n  //-->\n\n  <div *ngIf=\"environmentSnapshot\" class=\"container\">\n    <div class=\"col-sm-6 pull-left\">\n      <p>\n        To play, press key to turn on/off:<br>\n        [A] FOG; [S] HAIL; [D] LIGHTNING; [F] RAIN; [G] SUNSHINE; [H] WIND.</p>\n    </div>\n    <div class=\"col-sm-6 pull-right envBtns\" *ngIf=\"environment\">\n      <div class=\"envBtnWrapper\" (click)=\"toggleBtn('fog')\" [ngSwitch]=\"environmentSnapshot.fog\">\n        <div *ngSwitchCase='true' class=\"envBtn active\">\n          <img src=\"./images/env_btn/env_fog_on.png\"></div>\n        <div *ngSwitchCase='false' class=\"envBtn\">\n          <img src=\"./images/env_btn/env_fog.png\"></div>\n        <p class=\"imgDescription\">Fog</p>\n      </div>\n      <div class=\"envBtnWrapper\" (click)=\"toggleBtn('hail')\" [ngSwitch]=\"environmentSnapshot.hail\">\n        <div *ngSwitchCase='true' class=\"envBtn active\">\n          <img src=\"./images/env_btn/env_hail_on.png\"></div>\n        <div *ngSwitchCase='false' class=\"envBtn\">\n          <img src=\"./images/env_btn/env_hail.png\"></div>\n        <p class=\"imgDescription\">Hail</p>\n      </div>\n      <div class=\"envBtnWrapper\" (click)=\"toggleBtn('lightning')\" [ngSwitch]=\"environmentSnapshot.lightning\">\n        <div *ngSwitchCase='true' class=\"envBtn active\">\n          <img src=\"./images/env_btn/env_lightning_on.png\"></div>\n        <div *ngSwitchCase='false' class=\"envBtn\">\n          <img src=\"./images/env_btn/env_lightning.png\"></div>\n        <p class=\"imgDescription\">Lightning</p>\n      </div>\n      <div class=\"envBtnWrapper\" (click)=\"toggleBtn('rain')\" [ngSwitch]=\"environmentSnapshot.rain\">\n        <div *ngSwitchCase='true' class=\"envBtn active\">\n          <img src=\"./images/env_btn/env_rain_on.png\"></div>\n        <div *ngSwitchCase='false' class=\"envBtn\">\n          <img src=\"./images/env_btn/env_rain.png\"></div>\n        <p class=\"imgDescription\">Rain</p>\n      </div>\n      <div class=\"envBtnWrapper\" (click)=\"toggleBtn('sunshine')\" [ngSwitch]=\"environmentSnapshot.sunshine\">\n        <div *ngSwitchCase='true' class=\"envBtn active\">\n          <img src=\"./images/env_btn/env_sun_on.png\"></div>\n        <div *ngSwitchCase='false' class=\"envBtn\">\n          <img src=\"./images/env_btn/env_sun.png\"></div>\n        <p class=\"imgDescription\">Sunshine</p>\n      </div>\n      <div class=\"envBtnWrapper\" (click)=\"toggleBtn('wind')\" [ngSwitch]=\"environmentSnapshot.wind\">\n        <div *ngSwitchCase='true' class=\"envBtn active\">\n          <img src=\"./images/env_btn/env_wind_on.png\"></div>\n        <div *ngSwitchCase='false' class=\"envBtn\">\n          <img src=\"./images/env_btn/env_wind.png\"></div>\n        <p class=\"imgDescription\">Wind</p>\n      </div>\n    </div>\n  </div>\n  ",
            styles: ["\n    @media (max-width: 736px) {\n      .envBtns {\n        display: none;\n      }\n    }\n    .envBtnWrapper {\n      display: inline-block;\n      background: transparent;\n      margin-left: 15px;\n    }\n    .envBtn {\n      background-color: #29b0ae;\n      border: none;\n      width: 64px;\n      height: 64px;\n      padding: 10px;\n      position: relative;\n      text-align: center;\n      vertical-align: middle;\n      text-decoration: uppercase;\n      color: #fff;\n      background-image: linear-gradient(bottom, rgb(41,144,176) 0%, rgb(113,222,220) 100%);\n      background-image: -o-linear-gradient(bottom, rgb(41,144,176) 0%, rgb(113,222,220) 100%);\n      background-image: -moz-linear-gradient(bottom, rgb(41,144,176) 0%, rgb(113,222,220) 100%);\n      background-image: -webkit-linear-gradient(bottom, rgb(41,144,176) 0%, rgb(113,222,220) 100%);\n      background-image: -ms-linear-gradient(bottom, rgb(41,144,176) 0%, rgb(113,222,220) 100%);\n      background-image: -webkit-gradient(\n      linear,\n      left bottom,\n      left top,\n      color-stop(0, rgb(41,144,176)),\n      color-stop(1, rgb(113,222,220))\n      );\n      -webkit-box-shadow: inset 0px 1px 0px #71dedc, 0px 6px 0px #164f60;\n      -moz-box-shadow: inset 0px 1px 0px #71dedc, 0px 6px 0px #164f60;\n      -o-box-shadow: inset 0px 1px 0px #71dedc, 0px 6px 0px #164f60;\n      box-shadow: inset 0px 1px 0px #71dedc, 0px 6px 0px #164f60;\n      -webkit-border-radius: 5px;\n      -moz-border-radius: 5px;\n      -o-border-radius: 5px;\n      border-radius: 5px;\n    }\n    .envBtn.active, .envBtn:active {\n      color: #2990b0;\n      text-shadow: 0px 1px 1px rgba(255,255,255,0.3);\n      background: rgb(41,144,176);\n      -webkit-box-shadow: inset 0px 1px 0px #71dedc, inset 0px -1px 0px #164f60;\n      -moz-box-shadow: inset 0px 1px 0px #71dedc, inset 0px -1px 0px #164f60;\n      -o-box-shadow: inset 0px 1px 0px #71dedc, inset 0px -1px 0px #164f60;\n      box-shadow: inset 0px 1px 0px #71dedc, inset 0px -1px 0px #164f60;\n      top: 2px;\n    }\n    .envBtn img {\n      width: 100%;\n      height: 100%;\n    }\n    .envBtnWrapper .imgDescription {\n      position: absolute;\n      background: transparent;\n      padding-top: 2px;\n      color: #fff;\n      text-transform: uppercase;\n      visibility: hidden;\n      opacity: 0;\n      -webkit-transition: visibility opacity 0.2s;\n      transition: visibility opacity 0.2s;\n    }\n    .envBtnWrapper:hover .imgDescription {\n      visibility: visible;\n      opacity: 1;\n    }\n  "],
            directives: [common_1.NgSwitch, common_1.NgSwitchCase, common_1.NgSwitchDefault]
        }), 
        __metadata('design:paramtypes', [angularfire2_1.AngularFire, core_1.Renderer])
    ], EnvironmentComponent);
    return EnvironmentComponent;
}());
exports.EnvironmentComponent = EnvironmentComponent;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVudmlyb25tZW50L2Vudmlyb25tZW50LmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEscUJBQTRDLGVBQWUsQ0FBQyxDQUFBO0FBQzVELHVCQUFzRCxpQkFBaUIsQ0FBQyxDQUFBO0FBQ3hFLDZCQUFtRCxjQUFjLENBQUMsQ0FBQTtBQXNKbEU7SUFrREUsOEJBQVksRUFBYyxFQUFFLFFBQWtCO1FBbERoRCxpQkEwTEM7UUF2SUcsSUFBSSxDQUFDLEdBQUcsR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQztRQUNoQyxJQUFJLENBQUMsS0FBSyxHQUFHLEVBQUUsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLEdBQUcsR0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBQyxnQkFBZ0IsRUFBQyxFQUFDLGdCQUFnQixFQUFDLElBQUksRUFBQyxDQUFDLENBQUM7UUFDMUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsVUFBQSxRQUFRO1lBQzNCLEtBQUksQ0FBQyxtQkFBbUIsR0FBRyxRQUFRLENBQUMsR0FBRyxFQUFFLENBQUM7UUFDNUMsQ0FBQyxDQUFDLENBQUM7UUFDSCxJQUFJLENBQUMsV0FBVyxHQUFHLEVBQUUsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLEdBQUcsR0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBQyxzQkFBc0IsQ0FBQyxDQUFDO1FBQzlGLElBQUksQ0FBQyxPQUFPLEdBQUcsRUFBRSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsR0FBRyxHQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFDLFVBQVUsRUFBQyxFQUFDLGdCQUFnQixFQUFDLElBQUksRUFBQyxDQUFDLENBQUM7UUFD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LENBQUMsQ0FBQztZQUNqQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDakMsQ0FBQztRQUVELEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBSSxJQUFJLElBQUksR0FBRyxJQUFJLFVBQVUsQ0FBQyxDQUFDLENBQUM7WUFDckMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ3JDLENBQUM7UUFFRCxFQUFFLENBQUMsQ0FBQyxHQUFHLElBQUksSUFBSSxJQUFJLEdBQUcsSUFBSSxNQUFNLENBQUMsQ0FBQyxDQUFDO1lBQ2pDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNqQyxDQUFDO0lBQ0gsQ0FBQztJQTdVSDtRQUFDLGdCQUFTLENBQUM7WUFDVCxRQUFRLEVBQUUsYUFBYTtZQUN2QixRQUFRLEVBQUUsaStHQXFFVDtZQUNELE1BQU0sRUFBRSxDQUFDLG8vRUF3RVIsQ0FBQztZQUNGLFVBQVUsRUFBRSxDQUFDLGlCQUFRLEVBQUUscUJBQVksRUFBRSx3QkFBZSxDQUFDO1NBQ3RELENBQUM7OzRCQUFBO0lBNExGLDJCQUFDO0FBQUQsQ0ExTEEsQUEwTEMsSUFBQTtBQTFMWSw0QkFBb0IsdUJBMExoQyxDQUFBIiwiZmlsZSI6ImVudmlyb25tZW50L2Vudmlyb25tZW50LmNvbXBvbmVudC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q29tcG9uZW50LFJlbmRlcmVyLEVsZW1lbnRSZWZ9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQge05nU3dpdGNoLCBOZ1N3aXRjaENhc2UsIE5nU3dpdGNoRGVmYXVsdH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcclxuaW1wb3J0IHtBbmd1bGFyRmlyZSxGaXJlYmFzZU9iamVjdE9ic2VydmFibGV9IGZyb20gJ2FuZ3VsYXJmaXJlMic7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ2Vudmlyb25tZW50JyxcclxuICB0ZW1wbGF0ZTogYFxyXG4gIDwhLS1cclxuICA8ZGl2ICpuZ0lmPVwic25hcHNob3RcIj5cclxuICAgIDxwPlJhaW46IHt7c25hcHNob3QucmFpbn19PC9wPlxyXG4gICAgPGJ1dHRvbiAoY2xpY2spPVwiY2hhbmdlRW52aXJvbm1lbnQoJ3JhaW4nKVwiPkNoYW5nZSBSYWluPC9idXR0b24+XHJcbiAgICA8cD5Gb2c6IHt7c25hcHNob3QuZm9nfX08L3A+XHJcbiAgICA8YnV0dG9uIChjbGljayk9XCJjaGFuZ2VFbnZpcm9ubWVudCgnZm9nJylcIj5DaGFuZ2UgRm9nPC9idXR0b24+XHJcbiAgICA8cD5MaWdodG5pbmc6IHt7c25hcHNob3QubGlnaHRuaW5nfX08L3A+XHJcbiAgICA8YnV0dG9uIChjbGljayk9XCJjaGFuZ2VFbnZpcm9ubWVudCgnbGlnaHRuaW5nJylcIj5DaGFuZ2UgTGlnaHRuaW5nPC9idXR0b24+XHJcbiAgICA8cD5TdW5zaGluZToge3tzbmFwc2hvdC5zdW5zaGluZX19PC9wPlxyXG4gICAgPGJ1dHRvbiAoY2xpY2spPVwiY2hhbmdlRW52aXJvbm1lbnQoJ3N1bnNoaW5lJylcIj5DaGFuZ2UgU3Vuc2hpbmU8L2J1dHRvbj5cclxuICAgIDxwPkhhaWw6IHt7c25hcHNob3QuaGFpbH19PC9wPlxyXG4gICAgPGJ1dHRvbiAoY2xpY2spPVwiY2hhbmdlRW52aXJvbm1lbnQoJ2hhaWwnKVwiPkNoYW5nZSBIYWlsPC9idXR0b24+XHJcbiAgICA8cD5XaW5kOiB7e3NuYXBzaG90LndpbmR9fTwvcD5cclxuICAgIDxidXR0b24gKGNsaWNrKT1cImNoYW5nZUVudmlyb25tZW50KCd3aW5kJylcIj5DaGFuZ2UgV2luZDwvYnV0dG9uPlxyXG4gIDwvZGl2PlxyXG4gIC8vLS0+XHJcblxyXG4gIDxkaXYgKm5nSWY9XCJlbnZpcm9ubWVudFNuYXBzaG90XCIgY2xhc3M9XCJjb250YWluZXJcIj5cclxuICAgIDxkaXYgY2xhc3M9XCJjb2wtc20tNiBwdWxsLWxlZnRcIj5cclxuICAgICAgPHA+XHJcbiAgICAgICAgVG8gcGxheSwgcHJlc3Mga2V5IHRvIHR1cm4gb24vb2ZmOjxicj5cclxuICAgICAgICBbQV0gRk9HOyBbU10gSEFJTDsgW0RdIExJR0hUTklORzsgW0ZdIFJBSU47IFtHXSBTVU5TSElORTsgW0hdIFdJTkQuPC9wPlxyXG4gICAgPC9kaXY+XHJcbiAgICA8ZGl2IGNsYXNzPVwiY29sLXNtLTYgcHVsbC1yaWdodCBlbnZCdG5zXCIgKm5nSWY9XCJlbnZpcm9ubWVudFwiPlxyXG4gICAgICA8ZGl2IGNsYXNzPVwiZW52QnRuV3JhcHBlclwiIChjbGljayk9XCJ0b2dnbGVCdG4oJ2ZvZycpXCIgW25nU3dpdGNoXT1cImVudmlyb25tZW50U25hcHNob3QuZm9nXCI+XHJcbiAgICAgICAgPGRpdiAqbmdTd2l0Y2hDYXNlPSd0cnVlJyBjbGFzcz1cImVudkJ0biBhY3RpdmVcIj5cclxuICAgICAgICAgIDxpbWcgc3JjPVwiLi9pbWFnZXMvZW52X2J0bi9lbnZfZm9nX29uLnBuZ1wiPjwvZGl2PlxyXG4gICAgICAgIDxkaXYgKm5nU3dpdGNoQ2FzZT0nZmFsc2UnIGNsYXNzPVwiZW52QnRuXCI+XHJcbiAgICAgICAgICA8aW1nIHNyYz1cIi4vaW1hZ2VzL2Vudl9idG4vZW52X2ZvZy5wbmdcIj48L2Rpdj5cclxuICAgICAgICA8cCBjbGFzcz1cImltZ0Rlc2NyaXB0aW9uXCI+Rm9nPC9wPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPGRpdiBjbGFzcz1cImVudkJ0bldyYXBwZXJcIiAoY2xpY2spPVwidG9nZ2xlQnRuKCdoYWlsJylcIiBbbmdTd2l0Y2hdPVwiZW52aXJvbm1lbnRTbmFwc2hvdC5oYWlsXCI+XHJcbiAgICAgICAgPGRpdiAqbmdTd2l0Y2hDYXNlPSd0cnVlJyBjbGFzcz1cImVudkJ0biBhY3RpdmVcIj5cclxuICAgICAgICAgIDxpbWcgc3JjPVwiLi9pbWFnZXMvZW52X2J0bi9lbnZfaGFpbF9vbi5wbmdcIj48L2Rpdj5cclxuICAgICAgICA8ZGl2ICpuZ1N3aXRjaENhc2U9J2ZhbHNlJyBjbGFzcz1cImVudkJ0blwiPlxyXG4gICAgICAgICAgPGltZyBzcmM9XCIuL2ltYWdlcy9lbnZfYnRuL2Vudl9oYWlsLnBuZ1wiPjwvZGl2PlxyXG4gICAgICAgIDxwIGNsYXNzPVwiaW1nRGVzY3JpcHRpb25cIj5IYWlsPC9wPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPGRpdiBjbGFzcz1cImVudkJ0bldyYXBwZXJcIiAoY2xpY2spPVwidG9nZ2xlQnRuKCdsaWdodG5pbmcnKVwiIFtuZ1N3aXRjaF09XCJlbnZpcm9ubWVudFNuYXBzaG90LmxpZ2h0bmluZ1wiPlxyXG4gICAgICAgIDxkaXYgKm5nU3dpdGNoQ2FzZT0ndHJ1ZScgY2xhc3M9XCJlbnZCdG4gYWN0aXZlXCI+XHJcbiAgICAgICAgICA8aW1nIHNyYz1cIi4vaW1hZ2VzL2Vudl9idG4vZW52X2xpZ2h0bmluZ19vbi5wbmdcIj48L2Rpdj5cclxuICAgICAgICA8ZGl2ICpuZ1N3aXRjaENhc2U9J2ZhbHNlJyBjbGFzcz1cImVudkJ0blwiPlxyXG4gICAgICAgICAgPGltZyBzcmM9XCIuL2ltYWdlcy9lbnZfYnRuL2Vudl9saWdodG5pbmcucG5nXCI+PC9kaXY+XHJcbiAgICAgICAgPHAgY2xhc3M9XCJpbWdEZXNjcmlwdGlvblwiPkxpZ2h0bmluZzwvcD5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJlbnZCdG5XcmFwcGVyXCIgKGNsaWNrKT1cInRvZ2dsZUJ0bigncmFpbicpXCIgW25nU3dpdGNoXT1cImVudmlyb25tZW50U25hcHNob3QucmFpblwiPlxyXG4gICAgICAgIDxkaXYgKm5nU3dpdGNoQ2FzZT0ndHJ1ZScgY2xhc3M9XCJlbnZCdG4gYWN0aXZlXCI+XHJcbiAgICAgICAgICA8aW1nIHNyYz1cIi4vaW1hZ2VzL2Vudl9idG4vZW52X3JhaW5fb24ucG5nXCI+PC9kaXY+XHJcbiAgICAgICAgPGRpdiAqbmdTd2l0Y2hDYXNlPSdmYWxzZScgY2xhc3M9XCJlbnZCdG5cIj5cclxuICAgICAgICAgIDxpbWcgc3JjPVwiLi9pbWFnZXMvZW52X2J0bi9lbnZfcmFpbi5wbmdcIj48L2Rpdj5cclxuICAgICAgICA8cCBjbGFzcz1cImltZ0Rlc2NyaXB0aW9uXCI+UmFpbjwvcD5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJlbnZCdG5XcmFwcGVyXCIgKGNsaWNrKT1cInRvZ2dsZUJ0bignc3Vuc2hpbmUnKVwiIFtuZ1N3aXRjaF09XCJlbnZpcm9ubWVudFNuYXBzaG90LnN1bnNoaW5lXCI+XHJcbiAgICAgICAgPGRpdiAqbmdTd2l0Y2hDYXNlPSd0cnVlJyBjbGFzcz1cImVudkJ0biBhY3RpdmVcIj5cclxuICAgICAgICAgIDxpbWcgc3JjPVwiLi9pbWFnZXMvZW52X2J0bi9lbnZfc3VuX29uLnBuZ1wiPjwvZGl2PlxyXG4gICAgICAgIDxkaXYgKm5nU3dpdGNoQ2FzZT0nZmFsc2UnIGNsYXNzPVwiZW52QnRuXCI+XHJcbiAgICAgICAgICA8aW1nIHNyYz1cIi4vaW1hZ2VzL2Vudl9idG4vZW52X3N1bi5wbmdcIj48L2Rpdj5cclxuICAgICAgICA8cCBjbGFzcz1cImltZ0Rlc2NyaXB0aW9uXCI+U3Vuc2hpbmU8L3A+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8ZGl2IGNsYXNzPVwiZW52QnRuV3JhcHBlclwiIChjbGljayk9XCJ0b2dnbGVCdG4oJ3dpbmQnKVwiIFtuZ1N3aXRjaF09XCJlbnZpcm9ubWVudFNuYXBzaG90LndpbmRcIj5cclxuICAgICAgICA8ZGl2ICpuZ1N3aXRjaENhc2U9J3RydWUnIGNsYXNzPVwiZW52QnRuIGFjdGl2ZVwiPlxyXG4gICAgICAgICAgPGltZyBzcmM9XCIuL2ltYWdlcy9lbnZfYnRuL2Vudl93aW5kX29uLnBuZ1wiPjwvZGl2PlxyXG4gICAgICAgIDxkaXYgKm5nU3dpdGNoQ2FzZT0nZmFsc2UnIGNsYXNzPVwiZW52QnRuXCI+XHJcbiAgICAgICAgICA8aW1nIHNyYz1cIi4vaW1hZ2VzL2Vudl9idG4vZW52X3dpbmQucG5nXCI+PC9kaXY+XHJcbiAgICAgICAgPHAgY2xhc3M9XCJpbWdEZXNjcmlwdGlvblwiPldpbmQ8L3A+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgPC9kaXY+XHJcbiAgYCxcclxuICBzdHlsZXM6IFtgXHJcbiAgICBAbWVkaWEgKG1heC13aWR0aDogNzM2cHgpIHtcclxuICAgICAgLmVudkJ0bnMge1xyXG4gICAgICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIC5lbnZCdG5XcmFwcGVyIHtcclxuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcclxuICAgICAgbWFyZ2luLWxlZnQ6IDE1cHg7XHJcbiAgICB9XHJcbiAgICAuZW52QnRuIHtcclxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzI5YjBhZTtcclxuICAgICAgYm9yZGVyOiBub25lO1xyXG4gICAgICB3aWR0aDogNjRweDtcclxuICAgICAgaGVpZ2h0OiA2NHB4O1xyXG4gICAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcclxuICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1cHBlcmNhc2U7XHJcbiAgICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoYm90dG9tLCByZ2IoNDEsMTQ0LDE3NikgMCUsIHJnYigxMTMsMjIyLDIyMCkgMTAwJSk7XHJcbiAgICAgIGJhY2tncm91bmQtaW1hZ2U6IC1vLWxpbmVhci1ncmFkaWVudChib3R0b20sIHJnYig0MSwxNDQsMTc2KSAwJSwgcmdiKDExMywyMjIsMjIwKSAxMDAlKTtcclxuICAgICAgYmFja2dyb3VuZC1pbWFnZTogLW1vei1saW5lYXItZ3JhZGllbnQoYm90dG9tLCByZ2IoNDEsMTQ0LDE3NikgMCUsIHJnYigxMTMsMjIyLDIyMCkgMTAwJSk7XHJcbiAgICAgIGJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KGJvdHRvbSwgcmdiKDQxLDE0NCwxNzYpIDAlLCByZ2IoMTEzLDIyMiwyMjApIDEwMCUpO1xyXG4gICAgICBiYWNrZ3JvdW5kLWltYWdlOiAtbXMtbGluZWFyLWdyYWRpZW50KGJvdHRvbSwgcmdiKDQxLDE0NCwxNzYpIDAlLCByZ2IoMTEzLDIyMiwyMjApIDEwMCUpO1xyXG4gICAgICBiYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWdyYWRpZW50KFxyXG4gICAgICBsaW5lYXIsXHJcbiAgICAgIGxlZnQgYm90dG9tLFxyXG4gICAgICBsZWZ0IHRvcCxcclxuICAgICAgY29sb3Itc3RvcCgwLCByZ2IoNDEsMTQ0LDE3NikpLFxyXG4gICAgICBjb2xvci1zdG9wKDEsIHJnYigxMTMsMjIyLDIyMCkpXHJcbiAgICAgICk7XHJcbiAgICAgIC13ZWJraXQtYm94LXNoYWRvdzogaW5zZXQgMHB4IDFweCAwcHggIzcxZGVkYywgMHB4IDZweCAwcHggIzE2NGY2MDtcclxuICAgICAgLW1vei1ib3gtc2hhZG93OiBpbnNldCAwcHggMXB4IDBweCAjNzFkZWRjLCAwcHggNnB4IDBweCAjMTY0ZjYwO1xyXG4gICAgICAtby1ib3gtc2hhZG93OiBpbnNldCAwcHggMXB4IDBweCAjNzFkZWRjLCAwcHggNnB4IDBweCAjMTY0ZjYwO1xyXG4gICAgICBib3gtc2hhZG93OiBpbnNldCAwcHggMXB4IDBweCAjNzFkZWRjLCAwcHggNnB4IDBweCAjMTY0ZjYwO1xyXG4gICAgICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgICAgLW1vei1ib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICAgIC1vLWJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgfVxyXG4gICAgLmVudkJ0bi5hY3RpdmUsIC5lbnZCdG46YWN0aXZlIHtcclxuICAgICAgY29sb3I6ICMyOTkwYjA7XHJcbiAgICAgIHRleHQtc2hhZG93OiAwcHggMXB4IDFweCByZ2JhKDI1NSwyNTUsMjU1LDAuMyk7XHJcbiAgICAgIGJhY2tncm91bmQ6IHJnYig0MSwxNDQsMTc2KTtcclxuICAgICAgLXdlYmtpdC1ib3gtc2hhZG93OiBpbnNldCAwcHggMXB4IDBweCAjNzFkZWRjLCBpbnNldCAwcHggLTFweCAwcHggIzE2NGY2MDtcclxuICAgICAgLW1vei1ib3gtc2hhZG93OiBpbnNldCAwcHggMXB4IDBweCAjNzFkZWRjLCBpbnNldCAwcHggLTFweCAwcHggIzE2NGY2MDtcclxuICAgICAgLW8tYm94LXNoYWRvdzogaW5zZXQgMHB4IDFweCAwcHggIzcxZGVkYywgaW5zZXQgMHB4IC0xcHggMHB4ICMxNjRmNjA7XHJcbiAgICAgIGJveC1zaGFkb3c6IGluc2V0IDBweCAxcHggMHB4ICM3MWRlZGMsIGluc2V0IDBweCAtMXB4IDBweCAjMTY0ZjYwO1xyXG4gICAgICB0b3A6IDJweDtcclxuICAgIH1cclxuICAgIC5lbnZCdG4gaW1nIHtcclxuICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgIGhlaWdodDogMTAwJTtcclxuICAgIH1cclxuICAgIC5lbnZCdG5XcmFwcGVyIC5pbWdEZXNjcmlwdGlvbiB7XHJcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XHJcbiAgICAgIHBhZGRpbmctdG9wOiAycHg7XHJcbiAgICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xyXG4gICAgICB2aXNpYmlsaXR5OiBoaWRkZW47XHJcbiAgICAgIG9wYWNpdHk6IDA7XHJcbiAgICAgIC13ZWJraXQtdHJhbnNpdGlvbjogdmlzaWJpbGl0eSBvcGFjaXR5IDAuMnM7XHJcbiAgICAgIHRyYW5zaXRpb246IHZpc2liaWxpdHkgb3BhY2l0eSAwLjJzO1xyXG4gICAgfVxyXG4gICAgLmVudkJ0bldyYXBwZXI6aG92ZXIgLmltZ0Rlc2NyaXB0aW9uIHtcclxuICAgICAgdmlzaWJpbGl0eTogdmlzaWJsZTtcclxuICAgICAgb3BhY2l0eTogMTtcclxuICAgIH1cclxuICBgXSxcclxuICBkaXJlY3RpdmVzOiBbTmdTd2l0Y2gsIE5nU3dpdGNoQ2FzZSwgTmdTd2l0Y2hEZWZhdWx0XVxyXG59KVxyXG5cclxuZXhwb3J0IGNsYXNzIEVudmlyb25tZW50Q29tcG9uZW50IHtcclxuICBvbk9mZjpGaXJlYmFzZU9iamVjdE9ic2VydmFibGU8YW55PjtcclxuICBlbnZpcm9ubWVudDpGaXJlYmFzZU9iamVjdE9ic2VydmFibGU8YW55PjtcclxuICBwbGF5ZXJzOkZpcmViYXNlT2JqZWN0T2JzZXJ2YWJsZTxhbnk+O1xyXG4gIFVSTDpzdHJpbmc7XHJcbiAgZW52aXJvbm1lbnRTbmFwc2hvdDoge1xyXG4gICAgZm9nOmJvb2xlYW4sXHJcbiAgICBoYWlsOmJvb2xlYW4sXHJcbiAgICBsaWdodG5pbmc6Ym9vbGVhbixcclxuICAgIHJhaW46Ym9vbGVhbixcclxuICAgIHN1bnNoaW5lOmJvb2xlYW4sXHJcbiAgICB3aW5kOmJvb2xlYW4sXHJcbiAgfTtcclxuICBwbGF5ZXJzU25hcHNob3Q6IHtcclxuICAgIEVsZW1lbnRhbGlzdDoge1xyXG4gICAgICBwbGF5ZXJDbGFzczogc3RyaW5nO1xyXG4gICAgICBoaXRwb2ludHM6IG51bWJlcjtcclxuICAgICAgY3VycmVudEhpdHBvaW50czogbnVtYmVyO1xyXG4gICAgICBwaHlzaWNhbEF0dGFjazogbnVtYmVyO1xyXG4gICAgICBwaHlzaWNhbERlZmVuc2U6IG51bWJlcjtcclxuICAgICAgc3BlY2lhbEF0dGFjazogbnVtYmVyO1xyXG4gICAgICBzcGVjaWFsRGVmZW5zZTogbnVtYmVyO1xyXG4gICAgICBkZXh0ZXJpdHk6IG51bWJlcjtcclxuICAgICAgYWN0aW9uOiBzdHJpbmc7XHJcbiAgICB9XHJcbiAgICBIaWdod2F5bWFuOiB7XHJcbiAgICAgIHBsYXllckNsYXNzOiBzdHJpbmc7XHJcbiAgICAgIGhpdHBvaW50czogbnVtYmVyO1xyXG4gICAgICBjdXJyZW50SGl0cG9pbnRzOiBudW1iZXI7XHJcbiAgICAgIHBoeXNpY2FsQXR0YWNrOiBudW1iZXI7XHJcbiAgICAgIHBoeXNpY2FsRGVmZW5zZTogbnVtYmVyO1xyXG4gICAgICBzcGVjaWFsQXR0YWNrOiBudW1iZXI7XHJcbiAgICAgIHNwZWNpYWxEZWZlbnNlOiBudW1iZXI7XHJcbiAgICAgIGRleHRlcml0eTogbnVtYmVyO1xyXG4gICAgICBhY3Rpb246IHN0cmluZztcclxuICAgIH1cclxuICAgIFBhcmFnb246IHtcclxuICAgICAgcGxheWVyQ2xhc3M6IHN0cmluZztcclxuICAgICAgaGl0cG9pbnRzOiBudW1iZXI7XHJcbiAgICAgIGN1cnJlbnRIaXRwb2ludHM6IG51bWJlcjtcclxuICAgICAgcGh5c2ljYWxBdHRhY2s6IG51bWJlcjtcclxuICAgICAgcGh5c2ljYWxEZWZlbnNlOiBudW1iZXI7XHJcbiAgICAgIHNwZWNpYWxBdHRhY2s6IG51bWJlcjtcclxuICAgICAgc3BlY2lhbERlZmVuc2U6IG51bWJlcjtcclxuICAgICAgZGV4dGVyaXR5OiBudW1iZXI7XHJcbiAgICAgIGFjdGlvbjogc3RyaW5nO1xyXG4gICAgfVxyXG4gIH07XHJcbiAgZ2V0S2V5OkZ1bmN0aW9uO1xyXG5cclxuICBjb25zdHJ1Y3RvcihhZjpBbmd1bGFyRmlyZSwgcmVuZGVyZXI6IFJlbmRlcmVyKXtcclxuICAgIHRoaXMuVVJMID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XHJcbiAgICB0aGlzLm9uT2ZmID0gYWYuZGF0YWJhc2Uub2JqZWN0KCcvJyt0aGlzLlVSTC5zcGxpdCgnL2dhbWUvJylbMV0rJy9HbG9iYWxzL09uT2ZmJyx7cHJlc2VydmVTbmFwc2hvdDp0cnVlfSk7XHJcbiAgICB0aGlzLm9uT2ZmLnN1YnNjcmliZShzbmFwc2hvdCA9PntcclxuICAgICAgdGhpcy5lbnZpcm9ubWVudFNuYXBzaG90ID0gc25hcHNob3QudmFsKCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuZW52aXJvbm1lbnQgPSBhZi5kYXRhYmFzZS5vYmplY3QoJy8nK3RoaXMuVVJMLnNwbGl0KCcvZ2FtZS8nKVsxXSsnL0dsb2JhbHMvRW52aXJvbm1lbnQnKTtcclxuICAgIHRoaXMucGxheWVycyA9IGFmLmRhdGFiYXNlLm9iamVjdCgnLycrdGhpcy5VUkwuc3BsaXQoJy9nYW1lLycpWzFdKycvUGxheWVycycse3ByZXNlcnZlU25hcHNob3Q6dHJ1ZX0pO1xyXG4gICAgdGhpcy5wbGF5ZXJzLnN1YnNjcmliZShzbmFwc2hvdCA9PntcclxuICAgICAgdGhpcy5wbGF5ZXJzU25hcHNob3QgPSBzbmFwc2hvdC52YWwoKTtcclxuICAgIH0pO1xyXG4gICAgLyogR2V0cyBrZXl1cCAqL1xyXG4gICAgdGhpcy5nZXRLZXkgPSByZW5kZXJlci5saXN0ZW5HbG9iYWwoJ2RvY3VtZW50JywgJ2tleXVwJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgIHZhciBrZXkgPSBldmVudC5rZXlDb2RlO1xyXG4gICAgICB0aGlzLnRvZ2dsZUJ0bihrZXkpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBjaGFuZ2VFbnZpcm9ubWVudCh4KXtcclxuICAgIHZhciBhZXRoZXIgPSAxO1xyXG4gICAgdmFyIG1hdGVyaWFsID0gMTtcclxuICAgIHZhciBjaGFvcyA9IDE7XHJcbiAgICB2YXIgb3JkZXIgPSAxO1xyXG4gICAgc3dpdGNoKHgpe1xyXG4gICAgICBjYXNlICdyYWluJzpcclxuICAgICAgICBpZih0aGlzLmVudmlyb25tZW50U25hcHNob3QucmFpbj09dHJ1ZSl7XHJcbiAgICAgICAgICB0aGlzLm9uT2ZmLnVwZGF0ZSh7cmFpbjpmYWxzZX0pO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMub25PZmYudXBkYXRlKHtyYWluOnRydWV9KTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgY2FzZSAnZm9nJzpcclxuICAgICAgICAgIGlmKHRoaXMuZW52aXJvbm1lbnRTbmFwc2hvdC5mb2c9PXRydWUpe1xyXG4gICAgICAgICAgICB0aGlzLm9uT2ZmLnVwZGF0ZSh7Zm9nOmZhbHNlfSlcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm9uT2ZmLnVwZGF0ZSh7Zm9nOnRydWV9KTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgIGNhc2UgJ2xpZ2h0bmluZyc6XHJcbiAgICAgICAgaWYodGhpcy5lbnZpcm9ubWVudFNuYXBzaG90LmxpZ2h0bmluZz09dHJ1ZSl7XHJcbiAgICAgICAgICB0aGlzLm9uT2ZmLnVwZGF0ZSh7bGlnaHRuaW5nOmZhbHNlfSlcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLm9uT2ZmLnVwZGF0ZSh7bGlnaHRuaW5nOnRydWV9KTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgY2FzZSAnc3Vuc2hpbmUnOlxyXG4gICAgICAgIGlmKHRoaXMuZW52aXJvbm1lbnRTbmFwc2hvdC5zdW5zaGluZT09dHJ1ZSl7XHJcbiAgICAgICAgICB0aGlzLm9uT2ZmLnVwZGF0ZSh7c3Vuc2hpbmU6ZmFsc2V9KVxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMub25PZmYudXBkYXRlKHtzdW5zaGluZTp0cnVlfSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIGNhc2UgJ2hhaWwnOlxyXG4gICAgICAgIGlmKHRoaXMuZW52aXJvbm1lbnRTbmFwc2hvdC5oYWlsPT10cnVlKXtcclxuICAgICAgICAgIHRoaXMub25PZmYudXBkYXRlKHtoYWlsOmZhbHNlfSlcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLm9uT2ZmLnVwZGF0ZSh7aGFpbDp0cnVlfSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIGNhc2UgJ3dpbmQnOlxyXG4gICAgICAgIGlmKHRoaXMuZW52aXJvbm1lbnRTbmFwc2hvdC53aW5kPT10cnVlKXtcclxuICAgICAgICAgIHRoaXMub25PZmYudXBkYXRlKHt3aW5kOmZhbHNlfSlcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLm9uT2ZmLnVwZGF0ZSh7d2luZDp0cnVlfSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5lbnZpcm9ubWVudFNuYXBzaG90LnJhaW4gPT0gdHJ1ZSkge1xyXG4gICAgICAgIGNoYW9zICs9IDE7XHJcbiAgICAgICAgbWF0ZXJpYWwgKz0gMjtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLmVudmlyb25tZW50U25hcHNob3QuZm9nID09IHRydWUpIHtcclxuICAgICAgICBhZXRoZXIgKz0gMjtcclxuICAgICAgICBvcmRlciArPSAxO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuZW52aXJvbm1lbnRTbmFwc2hvdC5saWdodG5pbmcgPT0gdHJ1ZSkge1xyXG4gICAgICAgIGFldGhlciArPSAxO1xyXG4gICAgICAgIGNoYW9zICs9IDI7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5lbnZpcm9ubWVudFNuYXBzaG90LnN1bnNoaW5lID09IHRydWUpIHtcclxuICAgICAgICBvcmRlciArPSAyO1xyXG4gICAgICAgIG1hdGVyaWFsICs9IDE7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5lbnZpcm9ubWVudFNuYXBzaG90LmhhaWwgPT0gdHJ1ZSkge1xyXG4gICAgICAgIGFldGhlciArPSAyO1xyXG4gICAgICAgIG1hdGVyaWFsICs9IDI7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5lbnZpcm9ubWVudFNuYXBzaG90LndpbmQgPT0gdHJ1ZSkge1xyXG4gICAgICAgIG9yZGVyICs9IDI7XHJcbiAgICAgICAgY2hhb3MgKz0gMjtcclxuICAgIH1cclxuICB0aGlzLmVudmlyb25tZW50LnNldCh7YWV0aGVyOmFldGhlcixtYXRlcmlhbDptYXRlcmlhbCxjaGFvczpjaGFvcyxvcmRlcjpvcmRlcn0pO1xyXG4gIHRoaXMuY2hhbmdlQ2hhbXBpb25TdGF0cyhhZXRoZXIsbWF0ZXJpYWwsY2hhb3Msb3JkZXIpO1xyXG4gIH1cclxuXHJcbiAgY2hhbmdlQ2hhbXBpb25TdGF0cyhhZXRoZXIsbWF0ZXJpYWwsY2hhb3Msb3JkZXIpe1xyXG4gICAgdGhpcy5wbGF5ZXJzU25hcHNob3QuSGlnaHdheW1hbi5waHlzaWNhbEF0dGFjayA9IE1hdGguZmxvb3IoKGNoYW9zICogbWF0ZXJpYWwpICsgMTApO1xyXG4gICAgdGhpcy5wbGF5ZXJzU25hcHNob3QuSGlnaHdheW1hbi5waHlzaWNhbERlZmVuc2UgPSBNYXRoLmZsb29yKDUgKyBtYXRlcmlhbCk7XHJcbiAgICB0aGlzLnBsYXllcnNTbmFwc2hvdC5IaWdod2F5bWFuLnNwZWNpYWxBdHRhY2sgPSBNYXRoLmZsb29yKDIgKyAoMiAqIG9yZGVyKSk7XHJcbiAgICB0aGlzLnBsYXllcnNTbmFwc2hvdC5IaWdod2F5bWFuLnNwZWNpYWxEZWZlbnNlID0gTWF0aC5mbG9vcigzICsgY2hhb3MgKyBhZXRoZXIpO1xyXG4gICAgdGhpcy5wbGF5ZXJzU25hcHNob3QuSGlnaHdheW1hbi5kZXh0ZXJpdHkgPSBNYXRoLmZsb29yKCgoMTAgKiBhZXRoZXIpICsgb3JkZXIpIC8gbWF0ZXJpYWwpO1xyXG4gICAgdGhpcy5wbGF5ZXJzLnVwZGF0ZSh0aGlzLnBsYXllcnNTbmFwc2hvdCk7XHJcbiAgfVxyXG5cclxuICB0b2dnbGVCdG4oa2V5KSB7XHJcbiAgICAvLyBhXHJcbiAgICBpZiAoa2V5ID09ICc2NScgfHwga2V5ID09ICdmb2cnKSB7XHJcbiAgICAgIHRoaXMuY2hhbmdlRW52aXJvbm1lbnQoJ2ZvZycpO1xyXG4gICAgfVxyXG4gICAgLy8gc1xyXG4gICAgaWYgKGtleSA9PSAnODMnIHx8IGtleSA9PSAnaGFpbCcpIHtcclxuICAgICAgdGhpcy5jaGFuZ2VFbnZpcm9ubWVudCgnaGFpbCcpO1xyXG4gICAgfVxyXG4gICAgLy8gZFxyXG4gICAgaWYgKGtleSA9PSAnNjgnIHx8IGtleSA9PSAnbGlnaHRuaW5nJykge1xyXG4gICAgICB0aGlzLmNoYW5nZUVudmlyb25tZW50KCdsaWdodG5pbmcnKTtcclxuICAgIH1cclxuICAgIC8vIGZcclxuICAgIGlmIChrZXkgPT0gJzcwJyB8fCBrZXkgPT0gJ3JhaW4nKSB7XHJcbiAgICAgIHRoaXMuY2hhbmdlRW52aXJvbm1lbnQoJ3JhaW4nKTtcclxuICAgIH1cclxuICAgIC8vIGdcclxuICAgIGlmIChrZXkgPT0gJzcxJyB8fCBrZXkgPT0gJ3N1bnNoaW5lJykge1xyXG4gICAgICB0aGlzLmNoYW5nZUVudmlyb25tZW50KCdzdW5zaGluZScpO1xyXG4gICAgfVxyXG4gICAgLy8gaFxyXG4gICAgaWYgKGtleSA9PSAnNzInIHx8IGtleSA9PSAnd2luZCcpIHtcclxuICAgICAgdGhpcy5jaGFuZ2VFbnZpcm9ubWVudCgnd2luZCcpO1xyXG4gICAgfVxyXG4gIH1cclxufSJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
